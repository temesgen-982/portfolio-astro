---
import { Moon, Sun } from "lucide-svelte";
---

<button
  id="themeToggle"
  class="px-2 py-2 rounded border border-gray-300 dark:border-gray-600 flex items-center"
  aria-label="Toggle theme"
>
  <Sun class="block dark:hidden" id="iconSun" />
  <Moon class="hidden dark:block" id="iconMoon" />
</button>

<script is:inline>
  // Only toggle â€” no need to detect initial theme
  const toggle = () => {
    const html = document.documentElement;
    html.classList.toggle("dark");

    const isDark = html.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  };

  document.getElementById("themeToggle").addEventListener("click", toggle);
</script>

