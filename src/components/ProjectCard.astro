---
import type { Repo } from '../lib/github';
import { Star, BookMarked } from 'lucide-svelte';

interface Props {
    repo: Repo;
}

const { repo } = Astro.props;
---

<a href={repo.html_url} target="_blank" rel="noopener noreferrer" class="block p-3 border border-dark-steal rounded-lg hover:border-brand-teal transition-colors">
    <div class="flex items-center gap-3 mb-2">
        <BookMarked strokeWidth={1.5} />
        <h3 class="text-xl font-bold">{repo.name}</h3>
    </div>
    
    <p class=" text-sm mb-4 min-h-[40px]">
        {repo.description || 'No description available.'}
    </p>

    <div class="flex items-center justify-between text-sm ">
        <div class="flex items-center gap-2">
            <!-- Language Indicator -->
            {repo.language && (
                <span class="flex items-center gap-1">
                    <span class="w-3 h-3 rounded-full bg-blue-500"></span> <!-- You could map languages to colors -->
                    {repo.language}
                </span>
            )}
        </div>

        <!-- Star Count -->
        <div class="flex items-center gap-1">
            <Star strokeWidth={1.5} />
            <span>{repo.stargazers_count}</span>
        </div>
    </div>
    
    <!-- Topics/Tags -->
    {repo.topics.length > 0 && (
        <div class="mt-4 flex flex-wrap gap-2">
            {repo.topics.map(topic => (
                <span class="text-xs px-2 py-1 rounded border">{topic}</span>
            ))}
        </div>
    )}
</a>